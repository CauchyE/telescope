<form
  #formRef="ngForm"
  (submit)="onSubmit(idRef.value, typeRef.value, privateKeyRef.value)"
>
  <mat-form-field fxFill>
    <mat-label>ID</mat-label>
    <input
      #idRef
      ngModel
      name="id"
      matInput
      required
      pattern="^[a-z_][a-z_0-9]*$"
    />
    <mat-error>^[a-z_][a-z_0-9]*$</mat-error>
  </mat-form-field>
  <mat-form-field fxFill>
    <mat-label>Type</mat-label>
    <mat-select #typeRef ngModel name="type" matInput required>
      <mat-option [value]="'secp256k1'">Secp256k1</mat-option>
      <mat-option [value]="'ed25519'">Ed25519</mat-option>
      <mat-option [value]="'sr25519'">Sr25519</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field fxFill>
    <mat-label>Mnemonic</mat-label>
    <textarea
      #mnemonicRef
      ngModel
      name="mnemonic"
      matInput
      rows="3"
      style="resize: none"
      required
      pattern="^[a-z\s]+$"
      (blur)="onBlurMnemonic(mnemonicRef.value)"
    ></textarea>
    <button mat-button color="accent" (click)="onClickCreateMnemonic()">
      Create
    </button>
  </mat-form-field>
  <mat-form-field fxFill>
    <mat-label>Private key</mat-label>

    <input
      #privateKeyRef
      ngModel
      [type]="isPasswordVisible ? 'text' : 'password'"
      name="password"
      [(ngModel)]="privateKey"
      matInput
      readonly
      required
    />
    <button mat-button matSuffix (click)="togglePasswordVisibility()">
      <mat-icon>
        {{ isPasswordVisible ? 'visibility' : 'visibility_off' }}
      </mat-icon>
    </button>
    <button mat-button matSuffix (click)="copyPrivateKey(privateKeyRef.value)">
      <mat-icon>content_copy</mat-icon>
    </button>
    <mat-hint>
      You must save this as a password using password manager built in the web
      browser.
    </mat-hint>
  </mat-form-field>
  <button mat-flat-button type="submit" [disabled]="formRef.invalid">
    Submit
  </button>
</form>
